<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endless Random Text Generator</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(45deg, #1e3c72, #2a5298, #667db6);
            background-size: 400% 400%;
            animation: gradientShift 10s ease infinite;
            font-family: 'Arial', sans-serif;
            height: 100vh;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .text-item {
            position: absolute;
            font-weight: bold;
            font-size: 16px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            user-select: none;
            pointer-events: none;
            animation: fadeInOut 3s ease-in-out;
            z-index: 1;
        }

        .text-item.merin {
            color: #ff6b6b;
            font-size: 18px;
        }

        .text-item.selma {
            color: #4ecdc4;
            font-size: 17px;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: scale(0.5) rotate(-10deg);
            }
            20% {
                opacity: 1;
                transform: scale(1.1) rotate(5deg);
            }
            80% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: scale(0.8) rotate(10deg);
            }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .bounce { animation: bounce 2s infinite; }
        .pulse { animation: pulse 1.5s infinite; }

        .stats {
            position: fixed;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }

        .controls {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .controls button {
            margin: 5px;
            padding: 10px 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .controls button:hover {
            background: rgba(255,255,255,0.4);
        }
    </style>
</head>
<body>
    <div class="stats" id="stats">
        <div>Active Texts: <span id="activeCount">0</span></div>
        <div>Total Generated: <span id="totalCount">0</span></div>
        <div>Generation Rate: <span id="rate">5</span>/sec</div>
    </div>
    
    <div class="controls">
        <button onclick="increaseRate()">Speed Up</button>
        <button onclick="decreaseRate()">Slow Down</button>
        <button onclick="togglePause()">Pause/Resume</button>
        <button onclick="clearAll()">Clear All</button>
    </div>

    <script>
        const texts = [
            "merin is mandhi kutty 2.0",
            "selma is single lonely child"
        ];
        
        let activeTexts = [];
        let totalGenerated = 0;
        let generationRate = 5; // texts per second
        let isPaused = false;
        let maxActiveTexts = 200; // Prevent browser overload
        
        // Update stats display
        function updateStats() {
            document.getElementById('activeCount').textContent = activeTexts.length;
            document.getElementById('totalCount').textContent = totalGenerated;
            document.getElementById('rate').textContent = generationRate;
        }
        
        // Create a random text element
        function createTextElement() {
            if (activeTexts.length >= maxActiveTexts) {
                // Remove oldest text to make room
                const oldestText = activeTexts.shift();
                if (oldestText && oldestText.parentNode) {
                    oldestText.parentNode.removeChild(oldestText);
                }
            }
            
            const textElement = document.createElement('div');
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            textElement.textContent = randomText;
            textElement.className = 'text-item ' + (randomText.includes('merin') ? 'merin' : 'selma');
            
            // Add random animation effects
            const effects = ['bounce', 'pulse', ''];
            const randomEffect = effects[Math.floor(Math.random() * effects.length)];
            if (randomEffect) {
                textElement.classList.add(randomEffect);
            }
            
            // Random position
            const x = Math.random() * (window.innerWidth - 300);
            const y = Math.random() * (window.innerHeight - 50);
            textElement.style.left = x + 'px';
            textElement.style.top = y + 'px';
            
            // Random rotation
            const rotation = (Math.random() - 0.5) * 20;
            textElement.style.transform = `rotate(${rotation}deg)`;
            
            document.body.appendChild(textElement);
            activeTexts.push(textElement);
            totalGenerated++;
            
            // Remove element after animation completes
            setTimeout(() => {
                if (textElement.parentNode) {
                    textElement.parentNode.removeChild(textElement);
                    const index = activeTexts.indexOf(textElement);
                    if (index > -1) {
                        activeTexts.splice(index, 1);
                    }
                }
            }, 3000);
            
            updateStats();
        }
        
        // Control functions
        function increaseRate() {
            generationRate = Math.min(generationRate + 2, 20);
            updateStats();
        }
        
        function decreaseRate() {
            generationRate = Math.max(generationRate - 2, 1);
            updateStats();
        }
        
        function togglePause() {
            isPaused = !isPaused;
        }
        
        function clearAll() {
            activeTexts.forEach(text => {
                if (text.parentNode) {
                    text.parentNode.removeChild(text);
                }
            });
            activeTexts = [];
            updateStats();
        }
        
        // Main generation loop
        function generateTexts() {
            if (!isPaused) {
                const textsToGenerate = Math.floor(generationRate / 10);
                for (let i = 0; i < textsToGenerate; i++) {
                    createTextElement();
                }
            }
            setTimeout(generateTexts, 100); // Run every 100ms
        }
        
        // Handle window resize
        window.addEventListener('resize', () => {
            // Clear texts that might be off-screen
            activeTexts = activeTexts.filter(text => {
                const rect = text.getBoundingClientRect();
                if (rect.left > window.innerWidth || rect.top > window.innerHeight) {
                    if (text.parentNode) {
                        text.parentNode.removeChild(text);
                    }
                    return false;
                }
                return true;
            });
            updateStats();
        });
        
        // Start the generation
        generateTexts();
        
        // Performance monitoring
        let lastFrameTime = performance.now();
        function monitorPerformance() {
            const currentTime = performance.now();
            const deltaTime = currentTime - lastFrameTime;
            
            // If frame rate drops significantly, reduce generation rate
            if (deltaTime > 100 && generationRate > 3) {
                generationRate = Math.max(generationRate - 1, 3);
                console.log('Performance drop detected, reducing generation rate to:', generationRate);
            }
            
            lastFrameTime = currentTime;
            requestAnimationFrame(monitorPerformance);
        }
        
        monitorPerformance();
        
        // Initial stats update
        updateStats();
    </script>
</body>
</html>